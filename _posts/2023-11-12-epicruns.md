---
id: 109
title: "My most epic runs"
date: '2023-11-12T00:00:01+00:00'
author: Xavier
permalink: /epicruns
image: /blog/images/109-0.png
reading_time:
    - ''
    - ''
categories:
    - running
---


<img src="/blog/images/104-0.png">
*DALL-E 2: An old professor with a notebook in his hand talking to a futuristic looking robot. 4k. Professional photo. Photorealistic*

Six months ago I published my [Prompt Engineering 101 post](https://amatriain.net/blog/PromptEngineering). That later turned into a pretty 
popular [LinkedIn course](https://www.linkedin.com/learning-login/share?account=104&forceAccount=false&redirect=https%3A%2F%2Fwww.linkedin.com%2Flearning%2Fprompt-engineering-how-to-talk-to-the-ais%3Ftrk%3Dshare_ent_url%26shareId%3D9gu04nS6TX6dqeav6lZp7w%253D%253D) 
that has been taken by over 20k people at this point. That post and course were thought out as a gentle introduction to the topic. If you are new to prompt engineering, please start there.
Also, a lot has happened in the world of LLMs since then. So, now is a good time to complement the Prompt Engineering 101 with an up-to-date and a bit more advanced post. 
I’ll call it Prompt Engineering 201. I will start off by repeating a “classic” technique that was already covered in the “advanced section” of the original 
post, Chain of Thought, but will build up from there. 

Before we get into those techniques, a few words on what is Prompt Engineering.

# <a name="prompt_eng"></a>Prompt Design and Engineering

*Prompt Design* is the process of coming up with the optimal prompt given an LLM and a clearly stated goal. While prompts are "mostly" natural language, there is more to writing a good prompt than just telling the model what you want. Designing a good prompt requires a combination of:

- Understanding of the LLM: Some LLMs might respond differently to the same prompt and might even have keywords (e.g. '<|endofpromt|>') that will be interpreted in a particular way
- Domain knowledge: Writing a prompt to e.g. infer a medical diagnosis, requires medical knowlede.
- Iterative approach with some way to measure quality: Coming up with the ideal prompt is usually a trial and error process. It is key to have a way to measure the output better than a simple "it looks good", particularly if the prompt is meant to be used at scale.


# <a name="techniques"></a>Advanced techniques

Here are the techniques I will be covering:

* [Chain of thought (CoT)](#cot)
* [Automatic Chain of thought (Auto CoT)](#autocot)


# <a name="cot"></a>Chain of Thought (CoT)

As mentioned, this technique was already discussed in the previous post. However, it is very noteworthy and it is at the core of many of the newer approaches, so 
I thought it was worthwhile to include here again.

Chain of thought was initially described in the [“Chain-of-Thought Prompting Elicits Reasoning in Large Language Models”](https://arxiv.org/abs/2201.11903) paper 
by Google researchers. The simple idea here is that given that LLMs have been trained to predict tokens and not explicitly reason, you can get them closer to reasoning 
if you specify those required reasoning steps. Here is a simple example from the original paper:

<img src="/blog/images/104-1.png">

Note that in this case the “required reasoning steps” are given in the example in blue. This is the so-called “Manual CoT”.  There are two ways of doing chain 
of thought prompting (see below). In the basic one, called zero-shot CoT, you simply ask the LLM to “think step by step”. In the more complex version, called “manual CoT” 
you have to give the LLM examples of thinking step by step to illustrate how to reason. Manual prompting is more effective, but harder to scale and maintain.

<img src="/blog/images/104-2.png">

***********************

The 2023 NYC Marathon

I ran the NYC Marathon for my 50th birthday this week. This was [my 18th marathon](https://www.athlinks.com/athletes/167221250/results), and one of the toughest. I finished in 4 hours and 1 minute, my worst time ever, and I struggled starting in about mile 10 due to stomach issues. I had to stop four times for bathroom breaks, and I finished completely exhausted. The 3 miles I had to walk from the finish line to my hotel were terrible. That being said, it was AWESOME. The weather was great and NY is a special marathon. The whole city is out on the street cheering for runners. It is very emotional, and more than once I was close to crying (or maybe I did, who knows). I hope I can be back and do a better job next time.





As always, every race is full of life lessons. I captured some of them in my popular [“Ten little lessons for life I learned from running”] (https://amatriain.net/blog/10-little-lessons-for-life-that-i/). It was also a great opportunity to make friends. This time I joined an amazing group of Catalan runners, led by the popular sports journalist Arcadi Alibes, who was running his 20th NYC marathon and 158th overall! ([Here](http://www.arcadi42.com/158-nova-york-5-de-novembre-de-2023) is his post on the race, in Catalan).




Catalan runners in Times Square. I do not explicit endorse any political message or commercial product in this picture :-)



As I reflected on this run, I looked back on the many other epic runs I have done in my life and thought hard about where I would place it on my list. The answer is that this run, as amazing and epic as it was, would not make it to my top 10. If you wonder why, keep reading. I have sorted my most epic runs from 10 to 1, but also link them here on top in case you want to go straight to one of them. You decide how they compare to the most epic runs by tech leaders [compiled](https://www.theinformation.com/articles/runners-highs-techs-serial-marathoners-on-their-favorite-long-distance-runs?rc=9kfau8) not long ago by The Information.




I have made many friends through the many years of running, but these are the folks I have shared the most miles with and see pretty much weekly. To my left, Joaquin, Alberto, and Andres. Thanks for all the sweat!


The Relay (2015)
The [Golden Gate Relay](https://www.goldengaterelay.com/) (or The Relay for short), is an amazing and epic adventure. You make a team of 12 people, who are split in 2 vans, and you run from Calistoga in Napa Valley all the way to the Pacific Ocean in Santa Cruz. You get to run between 15 to 20 miles in 3 different legs. Some of the legs are brutal, with huge elevation gain going over the Santa Cruz mountains. Some others are just amazing, like crossing the Golden Gate Bridge at night. And, while a runner in your team is running, you are either waiting for them in the van at the finish line or trying to catch some food/sleep while the other van is running.




I have done The Relay 5 times, but in 2015 we managed to put together a very competitive team of Spanish runners. Our team, Korrikalaris, finished 6th out of 150 in under 23 hours. In fact, we were less than 1 minute from making the top 5! Very epic.





Half Ironman Andorra (2022)
If I have to pick my most epic Ironman, I have a hard time deciding between this half and the full one. Yes, the full Ironman is an epic distance, but this half Ironman in the Pyrenees was brutal. It is all in high altitude, and the bike goes twice up a first category mountain climb that is considered epic even for professional cyclists. But the worst part was swimming in high altitude!


I won’t go into too many details because I have a full, and pretty long, blog post with all the details about this race that you can read aout [here](https://amatriain.net/blog/andorra).





I should also add that this was not my only epic half IM. My first one in 2018 was also in altitude in Donner Lake, CA. While it wasn’t as brutal as Andorra, it also had altitude, elevation, heat, and even smoke from the nearby fires. The Donner Lake Tri would have made it into my top 20 for sure!


California International Marathon (2012)
This was a crazy and epic marathon entirely because of the weather. In fact, I have run this same marathon several times and have some of my fastest race times in it. But, 2012 was VERY different. The day before, we already started hearing about an epic storm that was approaching Sacramento. It was a few of us (5 if I remember correctly), and we weren’t about to go back home without at least trying. The storm during the night was crazy with wind and rain hitting our hotel window. And… it didn’t get better by early morning!


I am usually not risk averse at all, but this one time I was the one telling my friends that we should not get on the race bus. We should just pack and go home. Yes, maybe we could run the race, but we would not have fun, and we could risk injury. But, you gotta do what you gotta do. My friends insisted that we should at least get on the bus, go to the starting line, and then decide.


The 26 miles on the bus were, again, brutal. The storm was still hitting hard and there was no end in sight. We got to the starting line and we stayed in the bus. Of course at that point if the race was not canceled we were going to run. And, it wasn’t. We spent the last few minutes before the rain sheltering in the porta potties. So many people had dropped out from the race because of the weather that this is the only time in a race that I think we had enough porta potties for all the runners :-)


The race did not go very well either. Besides the cold and the rain, there was a lot of water on the road. In fact, they had to change the course in a few places. Because of the water, I probably ended up changing my stride a lot. When we got to the half marathon, I wanted to quit. Well, remember that I didn't even want to start! I did not quit, but this is one of the few marathons where I even walked for some parts. In the last few miles, the storm stopped and we even saw a bit of sun when we got to the Sacramento Capitol. And, I managed to finish well below 4 hours still. Very epic.


My relation with crazy Sacramento weather doesn’t end there though. In 2021 I was going to run my second full Ironman in the city. The storm was even worse than in 2012 (WTF Sacramento?). I was on the bus ready to go to the starting line for the swim in the Sacramento river when they canceled the race for safety. It was brutal, but I think it was the right decision. I don’t think I will ever do another full Ironman, and I blame Sacramento weather for that LOL.




Not very happy after the cancellation of the 2021 California Ironman



Escape from Alcatraz (2019)
I have done a few triathlons, and some of them have made it to this list. But Escape from Alcatraz is my favorite one because of the combination of being super epic and super fun. I have done much harder triathlons, and much longer, but this one is really fun while still being super epic. [Here](https://www.strava.com/activities/963128481) is my Strava activity.


What makes Escape from Alcatraz so epic is the setting… and the swim! All big races have a big build up, and a story before the story. You usually have to travel in a bus very early, wait in the cold, make sure you can hit a porta potty… Escape from Alcatraz is that, and much more. After the bus leaves you in the SF harbor, you need to get into an old ship. All athletes get into the same ship, which is pretty crowded, fun, and scary at the same time. Scary because you know you are going to have to jump into the cold Pacific from a deck that is quite high. And, you’ve hear of swimmers who get frozen because of the shock and can’t swim.




I did escape fortunately!


That, and the planning that goes through your head. Escape from Alcatraz is a very technical swim and there are dozens of tricks to it. You need to know where to jump from in the ship, and, very importantly, where to swim to. No, you cannot swim towards the finish line. Currents are very strong, and you would end up in Sausalito. You have to point your swim to some different SF landmarks as you make your way to land. I was pretty scared of the swim but it ended up being one of my fastest ever since I was able to ride the currents all the way to the shore.


After the swim, things are much easier. The bike is hilly (of course it has to be in SF), but short. And, the run is around the Golden Gate, also challenging but short.


Overall, an epic experience!

Boston Marathon (2018)

The dream for many runners is to run the Boston Marathon. That is particularly true for the great majority of runners who have to qualify for it. Qualifying in itself is already a feat. Running is supposed to be the fun part… except in 2018!


2018 was a brutal year for the Boston Marathon. A huge storm hit the city, and we ran the 26 miles in cold rain and wind. In fact, there was a combination of mud and snow in the starting line. Luckily, we knew the day before things would be pretty rough so we bought throwaway clothes and shoes and took the race clothes in a plastic bag.




Miserable weather to the end… with Alberto.


By the time the race was about to start we were wet and muddy. We then changed into clean clothes and off we were! I ran the first part a bit slower than I could because I was pacing my friend Alberto. Things were brutal with cold and windy rain coming to us most of the way. However, when I hit the half marathon mark I was feeling great and started to push. I passed so many people in the second half that I had great fun. Definitely not close to my fastest time, but a 3:33 in those conditions felt amazing… and totally epic! In fact, now I realize that I even used the word epic in the title of my Strava run 🙂


Mt. Charleston Marathon (2017)
This was my fastest marathon in 3:08. I never thought I would get close to 3 hours in a marathon, and this one got me pretty darn close. Maybe with a little more training I would have done it. In any case, this was a totally epic run. One of my best.


First things first, this is a straight downhill marathon that is considered to be one of the fastest in the US. We chose it because we wanted to qualify for Boston, and we did by far. You can see my Strava activity [here](https://www.strava.com/activities/963128481).




I did not dream up that finish time!


The marathon starts at altitude in Mt. Charleston, and ends in Las Vegas. It was freaking cold at the start line and there was even some snow, which is crazy considering you finish the race in the desert. Because of the altitude, I also struggled at the beginning. The combination of altitude and very hard pace was tough, but I got into the rhythm and hit it off with the 3:15 pacer. I felt great during the first half and even held the pacer sign while she was making a pit spot (the pacer had run a 2:20 the year prior). In mile 16 or so I decided to go for it and pushed faster than the pacer. I only struggled a bit in a small hill in mile 22, but ended up finishing strong, getting my all time PR, and my BQ (Boston qualifier). Epic!



Triple Tahoe Marathon (2016)

Running a marathon in altitude in Lake Tahoe is already pretty epic, but, how about 3 in 3 consecutive days? Well, that is exactly what we did in 2016. Three marathons back to back that take you all around the lake in 3 days. You start in South Lake Tahoe counterclockwise and after each marathon you are taken back to the starting line with a bus. The course is not only in altitude, but also has pretty challenging elevation gain in some parts. And, to make things more epic, we ran the first two marathons on the side of the road, with normal traffic on the road.




Just another long run with Alberto


To be honest, the most challenging part of the three marathons was probably the first thirty minutes when you need to get your body used to running and breathing in altitude and you think to yourself that there is no way you can finish a marathon, let alone 3. But, once I overcame the initial panic, the rest was very enjoyable. Because I wanted to finish the 3, I paced myself and did not push it too much. A fun anecdote is that in the third marathon, that had Emerald Bay half way through, I ran an inverse split and won free running shoes. Strava had a cool challenge going on at that time that gave free New Balance shoes to those that managed to run an inverse split marathon. Fwiw, this one was pretty easy since the first half was straight up, and the second half was straight down. Epic!


Ironman Santa Rosa (2019)
It took me a bit over 14 hours to finish my only full Ironman. Not a great time, and I did not even have much fun, but, yes a full IM is, by definition, epic.


The swim was…well, long. It was in a beautiful lake near Santa Rosa. The worst part of it is that we had to go around the lake twice. Going out of the water half way to go through the timing chip device is not fun, but we got the swim done, which is my least favorite part of the triathlon.


The bike was again VERY long, and somewhat boring. In an Ironman you ride your bike alone since drafting is not allowed. And riding your bike alone for over 6 hours is a lot. I have done much longer ultramarathons, but you can always chat with people you find around or get a pacer if you are lucky enough. This was plain lonely bike riding except for a couple of times I stopped in an aid station to refill the bottle. Also, the road was in awful conditions, and there were cars! By the time I finished the bike I really, really was looking forward to the run. My favorite sport!



At the end I was a beaten up as I look


And, the first half was pretty good all things considered. I was running on pace to go under 4 hours, which is really good in a full Ironman. But, then I started getting horrible stomach cramps due probably to poor hydration. I had to stop in the porta potties a few times and walk at times. The only positive thing I remember is getting to an aid station where they had warm broth. That felt magic. I ended running the marathon in over 5 hours. My worst marathon ever. But, very epic.



Quicksilver 100k (2018)

This is the longest run I have ever done, so it had to be high up on my list. Quicksilver(LINK) is not only long, it is pretty epic all around. It has 13k feet of elevation with some of the steepest climbs I have done in any ultra. And, it is usually very hot.


I say “usually” because I have ran the Quicksilver 100k three times, but only finished once. This race is literally in my backyard here in the Bay Area. In fact, I use parts of the course regularly for trail running. I finished the race in 2018 in a bit under 16h, which was the cutoff time for qualifying for Western Estates. It was brutal. I had my friend Alberto pace me for the last 20 miles, and I had some rough moments where I could barely speak to him and was close to giving up. But, I made it (see Strava activity [here](https://www.strava.com/activities/1568419810).




Pretty happy to finish this shit. I wasn’t thinking straight after almost 16 hours of running

In case you are wondering, the other two times that I started but DNF (did not finish) it was because I had decided beforehand I would not. The first time, I had my son’s graduation that same evening, and I had promised I would be there. The second time, I was only weeks away from an Ironman, and I knew running anything beyond 40 miles could compromise the IM.


Since this is the only official ultra that has made it to the list, I should at least mention that I have ran many others, some that were amazing. I fondly remember the two North Face races in Marin County, particularly the one in 2014, the day after some strong stor had hit the course. The mud in some parts of the trail made it particularly epic!


Grand Canyon RimToRimToRim (2015)
And, the most epic run ever goes to the amazing adventure me and a group of friends had in 2015. This is not an official race, but rather a popular adventure for those into ultra-running: running from the South Rim of the Grand Canyon to the North Rim and back [LINK]. This is a 50+ miles run with a crazy 20k feet of elevation (see [Strava] here(https://www.strava.com/activities/414842609)). It is completely self-assisted, meaning that you need to carry all your food and water needs (yes, there are some water sources, but not guaranteed). Besides the huge elevation and complicated logistics, what makes this run very challenging is the huge temperature differences. In fact there are only a few weeks in the year where you can attempt, in spring and fall. Even then, you will be below freezing when you start the run well before dawn, easily hit 100F degrees in the middle of the day in the canyon, and see some snow in the north rim when you get there.




The team. Ready to rock the Canyon!


We had attempted the run a year earlier in the spring. When I was going up the north rim with only one of my friends after splitting up from the rest, he did not feel well. I had to make the hard decision of turning around with him. But, we promised we would be back. And, we were! The year after!




We turned around the first time due to Alberto getting injured. This time around we got all the way to the end, and he led the way and kept me going.



This is an amazing run, but one that requires lots of training and preparation. It was crazy for us to be helping unprepared hikers who were going up the south rim in the evening after “just” having attempted going down and up the rim when we had over 40 miles on our legs.


A final thing that made this run completely epic was that when we started going up the south rim, a pretty scary storm with lighting started. Lighting storms can be very dangerous in the Grand Canyon, but fortunately, we were far enough from the lighting to make it safely, albeit very wet and muddy, to the top. It took me a bit under 11 hours to complete this amazing feat.


